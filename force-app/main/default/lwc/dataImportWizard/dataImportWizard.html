<template>
  <lightning-card 
    variant="Narrow" 
    title="Asistente para importaciÃ³n de datos" 
    icon-name="standard:data_transforms"
  >
  <!-- Upload File -->
    <div class="fileUpload">
      <lightning-file-upload 
        label="Cargar archivo CSV con los datos" 
        name="fileUploader" 
        accept={acceptedFormats}
        onuploadfinished={handleUploadFinished}
      >
      </lightning-file-upload>
    </div>
    
  <!-- Select sObject -->
    <div class="selectionObject">
        <lightning-combobox
          name="objectselected"
          label="Seleccione el objeto donde guardar los datos"
          placeholder="Seleccione un objeto"
          options={salesforceObjects}
          onchange={handleObjectSelection} 
        ></lightning-combobox>
    </div>
  <!-- Mapping de Campos del objeto con columnas del CSV -->
    <div class="mapping">
      <template for:each={fieldList} for:item="field">
        <div key={fiel.apiName}>
          <div data-apiname={field.apiName}>
            {field.label}
          </div>
          <div>
            <lightning-combobox
            name="columselected"
            placeholder="Seleccione una columna"
            options={columnHeaders}
            onchange={handleColumnSelection} 
          ></lightning-combobox>
          </div>
        </div>
      </template>
    </div>
    <hr>
    <!-- Importar la data -->
    <lightning-button 
      variant="brand" 
      label="Importar Datos" 
      title="Importar Datos" 
      onclick={handleImportData} 
      class="slds-m-left_x-small"
    ></lightning-button>
  </lightning-card>
</template>